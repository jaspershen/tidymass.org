---
title: "Install tidymass"
weight: 1
categories: [installation]
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="update-r-version" class="section level2">
<h2>Update R version</h2>
<p><code>tidymass</code> require R version &gt; 4.1. You can check your R version in your console:</p>
<pre class="r"><code>version</code></pre>
<p>If your R version is &lt; 4.1, please <a href="https://cran.r-project.org/mirrors.html">download and install the latest version of R</a>, and then restart your R.</p>
</div>
<div id="uninstall-tidytools-and-metid" class="section level2">
<h2>Uninstall <code>tidyTools</code> and <code>metID</code></h2>
<p>If you have installed <code>tinyTools</code> or <code>metID</code>, please uninstall them.</p>
<p><code>tinyTools</code> has been renamed as <code>tinytools</code> and <code>metID</code> has been renamed as <code>metid</code>. So please uninstall them before you install <code>tidymass</code>. <strong>And don’t use them any more.</strong></p>
<ol style="list-style-type: decimal">
<li>detach them by:</li>
</ol>
<pre class="r"><code>detach(&quot;package:tinyTools&quot;)
detach(&quot;package:metID&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Remove them by:</li>
</ol>
<pre class="r"><code>remove.packages(pkgs = &quot;tinyTools&quot;)
remove.packages(pkgs = &quot;metID&quot;)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Restart your R session.</li>
</ol>
<blockquote>
<p>If there are errors, ignore them.</p>
</blockquote>
</div>
<div id="install-tidymass-from-gitlab" class="section level2">
<h2>Install <code>tidymass</code> from GitLab</h2>
<div id="update-remotes" class="section level3">
<h3>Update <code>remotes</code></h3>
<p>You can use the <code>remotes</code> package to install <code>tidymass</code>.</p>
<p>Please update <code>remotes</code> first and then restart your r session.</p>
<pre class="r"><code>install.packages(&quot;remotes&quot;)</code></pre>
</div>
<div id="install-tidymass" class="section level3">
<h3>Install <code>tidymass</code></h3>
<p>Install <code>tidymass</code> by:</p>
<pre class="r"><code>remotes::install_gitlab(&quot;jaspershen/tidymass&quot;, dependencies = TRUE)</code></pre>
<blockquote>
<p>During installing, it may ask you several times: “Would you like to uodate some pacakges?” Just Enter the <code>Enter</code> or <code>Retrun</code> key to skip updates.</p>
</blockquote>
<p><img src="figures/Screen-Shot%209.png" /></p>
</div>
<div id="install-tidymass-packages-one-by-one" class="section level3">
<h3>Install tidymass packages one by one</h3>
<p>If you use the Windows OS and the dependencies can not be installed, try to install all the <code>tidymass</code> packages one by one.</p>
<pre class="r"><code>remotes::install_gitlab(&quot;jaspershen/masstools&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/massdataset&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/massqc&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/massprocesser&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/masscleaner&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/massstat&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/metid&quot;, dependencies = TRUE)
remotes::install_gitlab(&quot;jaspershen/metpath&quot;, dependencies = TRUE)</code></pre>
</div>
</div>
<div id="install-tidymass-from-github" class="section level2">
<h2>Install <code>tidymass</code> from GitHub</h2>
<div id="install-tidymass-1" class="section level3">
<h3>Install <code>tidymass</code></h3>
<p>Then install <code>tidymass</code>:</p>
<pre class="r"><code>remotes::install_github(&quot;tidymass/tidymass&quot;, dependencies = TRUE)</code></pre>
<blockquote>
<p>During the installation, it will ask if you want to update some packages for few times, just enter <code>Enter</code> or <code>Reurn</code> key to skip it.</p>
</blockquote>
<p>If there is a error like below:</p>
<pre><code>Error: Failed to install &#39;tidymass&#39; from GitHub: HTTP error 403. API rate limit exceeded for 171.66.10.237. (But here&#39;s the good news: Authenticated requests get a higher rate limit. Check out the documentation for more details.)</code></pre>
<p>Try to resolve it by:</p>
<ol style="list-style-type: decimal">
<li>In you R console, type this code:</li>
</ol>
<pre class="r"><code>usethis::create_github_token()</code></pre>
<p>It will open a page in browser, and create a “New personal access token” and copy it.</p>
<p><img src="figures/Screen-Shot-2021-12-24-at-9.28.18-PM.png" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Then type this code:</li>
</ol>
<pre class="r"><code>usethis::edit_r_environ()</code></pre>
<p>and then add one line like below:</p>
<pre><code>GITHUB_PAT=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</code></pre>
<blockquote>
<p>The <code>GITHUB_PAT</code> should be yours that is created in step 1.</p>
</blockquote>
<p>And then restart R session and try again.</p>
</div>
<div id="install-tidymass-packages-one-by-one-1" class="section level3">
<h3>Install tidymass packages one by one</h3>
<p>If you use the Windows OS and the dependencies can not be installed, try to install all the <code>tidymass</code> packages one by one.</p>
<pre class="r"><code>remotes::install_github(&quot;tidymass/masstools&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/massdataset&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/massqc&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/massprocesser&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/masscleaner&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/massstat&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/metid&quot;, dependencies = TRUE)
remotes::install_github(&quot;tidymass/metpath&quot;, dependencies = TRUE)</code></pre>
</div>
</div>
<div id="install-tidymass-from-gitee" class="section level2">
<h2>Install <code>tidymass</code> from Gitee</h2>
<p>If you can’t install pacakgs from GitHub and GitLab, please try install packags from Gitee.</p>
<div id="install-tidymass-2" class="section level3">
<h3>Install <code>tidymass</code></h3>
<p>Then install <code>tidymass</code>:</p>
<pre class="r"><code>remotes::install_git(url = &quot;https://gitee.com/jaspershen/tidymass&quot;, dependencies = TRUE)</code></pre>
</div>
<div id="install-tidymass-packages-one-by-one." class="section level3">
<h3>Install tidymass packages one by one.</h3>
<p>If you use the Windows OS and the dependencies can not be installed, try to install all the <code>tidymass</code> packages one by one.</p>
<pre class="r"><code>remotes::install_git(url = &quot;https://gitee.com/jaspershen/masstools&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/massdataset&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/massqc&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/massprocesser&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/masscleaner&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/massstat&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/metid&quot;, dependencies = TRUE)
remotes::install_git(url = &quot;https://gitee.com/jaspershen/metpath&quot;, dependencies = TRUE)</code></pre>
<p><a href="https://github.com/tidymass/tidymass/issues">Let me know if you have any questions</a>.</p>
</div>
</div>
<div id="frequently-asked-questions" class="section level2">
<h2>Frequently Asked Questions</h2>
<ol style="list-style-type: decimal">
<li>Can not install dependent packages <code>raster</code> and <code>Cario</code></li>
</ol>
<p><code>raster</code> is a package in <a href="https://cran.r-project.org/web/packages/raster/index.html">CRAN</a>, try to install it first and then install <code>tidymass</code>.</p>
<pre class="r"><code>install.packages(&quot;raster&quot;)</code></pre>
<p><code>Cario</code> is a package in <a href="https://cran.r-project.org/web/packages/Cairo/index.html">CRAN</a>, try to install it first and then install <code>tidymass</code>.</p>
<pre class="r"><code>install.packages(&quot;Cairo&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Error when install <code>massprocesser</code></li>
</ol>
<p>The error is:</p>
<pre><code>Error: .onLoad failed in loadNamespace() for &#39;affy&#39;, details:
  call: assign(&quot;.affyInternalEnv&quot;, .affyInternalEnv, envir = topenv(parent.frame()))
  error: cannot add binding of &#39;.affyInternalEnv&#39; to the base environment
Execution halted
ERROR: lazy loading failed for package &#39;massprocesser&#39;
* removing &#39;D:/R_packages/R4.0/library/massprocesser&#39;</code></pre>
<p>Just try to restart R and install <code>affy</code>.</p>
<pre class="r"><code>BiocManager::install(&quot;affy&quot;)</code></pre>
</div>
<div id="session-information" class="section level2">
<h2>Session information</h2>
<pre class="r"><code>sessionInfo()
#&gt; R version 4.1.2 (2021-11-01)
#&gt; Platform: x86_64-apple-darwin17.0 (64-bit)
#&gt; Running under: macOS Big Sur 10.16
#&gt; 
#&gt; Matrix products: default
#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib
#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib
#&gt; 
#&gt; locale:
#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; other attached packages:
#&gt; [1] magrittr_2.0.2
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt;  [1] bookdown_0.24   here_1.0.1      rprojroot_2.0.2 digest_0.6.29  
#&gt;  [5] R6_2.5.1        jsonlite_1.7.3  evaluate_0.15   blogdown_1.7   
#&gt;  [9] rlang_1.0.1     stringi_1.7.6   cli_3.2.0       rstudioapi_0.13
#&gt; [13] jquerylib_0.1.4 bslib_0.3.1     rmarkdown_2.11  tools_4.1.2    
#&gt; [17] stringr_1.4.0   xfun_0.29       yaml_2.3.4      fastmap_1.1.0  
#&gt; [21] compiler_4.1.2  htmltools_0.5.2 knitr_1.37      sass_0.4.0</code></pre>
</div>
